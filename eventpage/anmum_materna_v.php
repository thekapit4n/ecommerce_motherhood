<style>
   <!--
   input {
         padding-top: 10px !important;
         padding-bottom: 10px !important;
      }
      div {
         color: black;
      }
   -->
</style>
<div id="sponsored_content" class="clearfix"></div>
<div class="alert alert-warning text-left" role="alert" style="color: #856404; background-color: #fff3cd; border-color: #ffeeba;">
   This sample redemption is only open for first-time Anmum Materna users only
</div>
<div style="display: none;"><a id="tncpopupimg" href="https://s3.amazonaws.com/motherhood.com.my/assets/images/uploads/2020/August/Anmum/Essential+Gold/privacy-policy.png"> <img src="https://s3.amazonaws.com/motherhood.com.my/assets/images/uploads/2020/August/Anmum/Essential+Gold/privacy-policy.png" /> </a></div>
<div class="row" style="background-color: #f7f7f7; padding: 10px 0px 0px 0px; margin: 0;">
   <div class="clearfix"></div>
   <div class="col-md-8 col-md-offset-2" style="text-align: left; color: black; font-weight: bold;">
      <div class="col-md-12 col-lg-12">
         <br />
         <div class="col-md-12 col-lg-12" style="padding-top: 20px;">
            <p>Sample: Flavour</p>
            <select name="subscriber_question11" id="subscriber_question11" required="required" style="width: 100%; font-size: 1.1em; box-shadow: none !important; border: none; color: #512f2e;">
               <option value="">Select</option>
               <option value="Plain">Plain</option>
               <option value="Chocolate">Chocolate</option>
            </select>
         </div>
         <div class="clearfix"></div>
         <div class="col-md-12 col-lg-12">
            <br />
            <p>Are you pregnant?</p>
            <select name="subscriber_question13" id="are-you-pregnant" required="required" style="width: 100%; font-size: 1.1em; box-shadow: none !important; border: none; color: #512f2e;">
               <option value="">Select option</option>
               <option value="Yes">Yes</option>
               <option value="No">No</option>
            </select>
            <small class="are-you-pregnant-msg" style="font-size:83%;color:red;"><small>
         </div>
         <!--
         <div class="col-md-12 col-lg-12">
            <br />
            <p>Are you currently:</p>
            <select name="subscriber_question12" id="subscriber_question12" required="required" style="width: 100%; font-size: 1.1em; box-shadow: none !important; border: none; color: #512f2e;">
               <option value="">Select</option>
               <option value="Planning for Pregnancy">Planning for Pregnancy</option>
               <option value="Currently pregnant">Currently pregnant</option>
            </select>
         </div>
         -->
         <!---------------------Current product usage* --------------------->
         <div class="col-md-12">
            <br /><br />
            <p>Do you currently use any formulated milk powder?</p>
            <ul style="padding: 10px 0px 10px 0px;">
               <li style="float: left; width: 100%;">
                  <select name="subscriber_question8" id="subscriber_question8" required="required" style="line-height: 1; height: 34px; width: 100%; border: none; box-shadow: none; color: black;">
                     <option value="">Select your current brand</option>
                     <option value="No, I do not">No, I do not</option>
                     <option value="Anmum Essential">Anmum Materna</option>
                     <option value="Enfagrow A+">Enfamama A+</option>
                     <option value="Friso Gold">Friso Mum Gold</option>
                     <option value="Nestl&eacute; MOM">Nestl&eacute; MOM</option>
                     <option value="Similac Gain">Similac Mom</option>
                     <option value="S-26 Gold Progress">Wyeth Promama</option>
                     <option value="Others">Others</option>
                  </select>
               </li>
            </ul>
         </div>
         <div class="clearfix"></div>
         <div class="col-md-6">
            <!--------------------- First name ---------------------> <br />
            <p>First Name</p>
            <ul style="padding: 10px 0px 10px 0px;">
               <li style="float: left; width: 100%;"><input name="newFirstName" id="newFirstName" type="text" required="required" style="line-height: 1; border: none; box-shadow: none; color: black;" /></li>
            </ul>
         </div>
         <div class="col-md-6">
            <!--------------------- Last Name ---------------------> <br />
            <p>Last Name</p>
            <ul style="padding: 10px 0px 10px 0px;">
               <li style="float: left; width: 100%;"><input name="newLastName" id="newLastName" type="text" required="required" style="line-height: 1; border: none; box-shadow: none; color: black;" /></li>
            </ul>
         </div>
         <div class="col-md-6">
            <!--------------------- Email ---------------------> <br />
            <p>Email</p>
            <ul style="padding: 10px 0px 10px 0px;">
               <li style="float: left; width: 100%;">
                  <input name="newEmail" id="emailCust" type="text" required="required" style="line-height: 1; border: none; box-shadow: none; color: black;" />
                  <input class="statuscodeemail" type="hidden" />
                  <small id="email-msg"></small>
               </li>
            </ul>
         </div>
         <div class="col-md-6">
            <br />
            <p>Mobile Number</p>
            <ul style="padding: 10px 0px 10px 0px;">
               <li style="margin-left: 0px; padding-left: 0px;"><input style="float: left; width: 97%; padding-top: 10px; padding-bottom: 10px; line-height: 1; border: none; box-shadow: none; color: black;" name="subscriber_question1" id="mobilenumber" type="text" required="required" /> <br /><br /> <label style="color: red; display: none;" id="phoneNoError">Invalid phone number format. Correct format(XXX XXXXXXXX), e.g. 012 3334444 / 019-8887777.&lt;/label &gt; <label style="color: red; display: none;" id="phoneNoPrefixError">Invalid phone number prefix. Correct Prefix (010,011,012,013,014,015,016,017,018,019).&lt;/label &gt; <label style="color: red; display: none;" id="phoneNoErrorSg">Invalid Singapore phone number format. Correct Format(5 XXXX XXXX), e.g. 5 66667777.&lt;/label &gt; </label></label></label></li>
            </ul>
         </div>
         <div class="clearfix"></div>
         <div class="col-md-12">
            <br />
            <p>Address</p>
            <p style="font-size: 15px;">*Please provide full address</p>
            <ul style="padding: 10px 0px 30px 0px;">
               <li style="float: left; width: 100%;"><input name="subscriber_question2" id="subscriber_question2" placeholder="ex. No 12 , Jalan ABC , Taman DEF" type="text" size="80" required="required" style="line-height: 1; border: none; box-shadow: none; color: black;" /></li>
            </ul>
         </div>
         <div class="clearfix"></div>
         <!-- Postcode form-->
         <div class="col-md-4 col-lg-4">
            <br /><br />
            <p>Postcode</p>
            <ul style="padding: 10px 0px 30px 0px;">
               <li style="float: left; width: 100%;"><input name="subscriber_question3" id="postcode-address" class="addr-postcode" type="text" placeholder="ex. 12345" required="required" style="padding-top: 10px; padding-bottom: 10px; line-height: 1; border: none; box-shadow: none; width: 100%; color: black;" /></li>
            </ul>
         </div>
         <div class="col-md-4 col-lg-4">
            <br /><br />
            <p>City / Town</p>
            <ul style="padding: 10px 0px 30px 0px;">
               <li style="float: left; width: 100%;"><input name="subscriber_question5" id="subscriber_question5" type="text" class="addr-city" required="required" style="padding-top: 10px; padding-bottom: 10px; line-height: 1; border: none; box-shadow: none; width: 100%; color: black;" /></li>
            </ul>
         </div>
         <!-- State form-->
         <div class="col-md-6 col-lg-4">
            <br /> <br />
            <p>State</p>
            <ul style="padding: 10px 0px 30px 0px;">
               <li style="float: left; width: 100%;">
                  <select name="subscriber_question7" id="subscriber_question7" type="text" class="addr-state" required="required" style="line-height: 1; width: 100%; height: 34px; border: none; box-shadow: none; color: black;">
                     <option value="">Choose</option>
                     <option value="Johor">Johor</option>
                     <option value="Kedah">Kedah</option>
                     <option value="Kelantan">Kelantan</option>
                     <option value="Kuala Lumpur">Kuala Lumpur</option>
                     <option value="Labuan">Labuan</option>
                     <option value="Melaka">Melaka</option>
                     <option value="Negeri Sembilan">Negeri Sembilan</option>
                     <option value="Pahang">Pahang</option>
                     <option value="Perak">Perak</option>
                     <option value="Perlis">Perlis</option>
                     <option value="Pulau Pinang">Pulau Pinang</option>
                     <option value="Putrajaya">Putrajaya</option>
                     <option value="Sabah">Sabah</option>
                     <option value="Sarawak">Sarawak</option>
                     <option value="Selangor">Selangor</option>
                     <option value="Terengganu">Terengganu</option>
                  </select>
               </li>
            </ul>
         </div>
         <div class="clearfix"></div>
         <div class="clearfix"></div>
         <div class="col-md-12 col-lg-12">
            <table style="margin: 15px 0px 15px 0px; font-weight: bold;">
               <tbody>
                  <tr>
                     <td style="font-weight: bold; vertical-align: top;"><input id="subscriber_question10" name="subscriber_question10" value="agree" required="required" type="checkbox" checked="checked" style="display: inline-block;" /></td>
                     <td style="font-weight: bold;">
                        <p>I agree to allow Anmum&trade; Materna Malaysia and Connected Mums Club to contact me for all marketing and promotional matter, including updates, breaking news,sample, newsletters and rewards redemption activities.</p>
                        <p>By submitting this application, you hereby agree to our Term &amp; Conditions and processing of your personal data in accordance with our privacy police. Your personal details will be used by Connected Mums Club and Fonterra Brands (M) Sdn Bhd for communication purposes relating to club membership, our products and our brands only.</p>
                     </td>
                  </tr>
               </tbody>
            </table>
         </div>
         <div class="clearfix"></div>
         <div class="col-md-12 col-lg-12">
            Select Your Preferred Language*
            <select name="subscriber_question9" id="subscriber_question9" required="required" style="width: 100%; font-size: 1.1em; box-shadow: none !important; border: none; color: #512f2e;">
               <option value="English" selected="selected">English</option>
               <option value="Malay">Malay</option>
            </select>
         </div>
         <div class="clearfix"></div>
         <button type="submit" name="submit" class="btn btn-default button button-medium btn-submit" style="padding: 8px 10px 8px 10px; margin: 100px 0px 20px 0px; background: #232f61; border: none; float: right;"> <span style="border: none;">Redeem Now<i class="icon-chevron-right right"></i></span> </button>
      </div>
      <br /><br />
   </div>
   <div class="clearfix"></div>
   <div class="row" style="background-color: #232f61; padding-bottom: 50px; margin: 0;">
      <div class="col-md-8 col-lg-8 col-md-offset-2 col-lg-offset-2" style="padding-top: 50px; text-align: left; padding-left: 50px;">
         <p style="font-weight: bold; color: white;">Terms &amp; Conditions</p>
         <p style="color: white;">- This redemption is only valid for women who are pregnant.</p>
         <p style="color: white;">- Registration will only be accepted with a FULL postal address provided.</p>
         <p style="color: white;">- The incomplete registration form will not be accepted.</p>
         <p style="color: white;">- The sample products may vary and subject to availability.</p>
         <p style="color: white;">- Each registered account is entitled to only ONE(1) redemption.</p>
         <p style="color: white; display: inline-block;">- By submitting this application, you hereby consent to us collecting, using, and/or processing your personal data in accordance with our <span style="text-decoration: underline;" id="tncbtn">Privacy Policy. </span></p>
      </div>
   </div>
   <div class="clearfix"></div>
   <p>
      <script>// <![CDATA[
         var validatePostcode = function(_this){
            var postcode = _this.val();
            if(postcode != undefined && postcode != '')
            {
               $.ajax({
                  url		 : '../modules/enlineamixmod/enlineamixmod-postcode-ajax.php', 
                  data	 :{'postcode': postcode},
                  dataType :'json',
                  method 	 : 'post',
                  success	 : function(result){
                     if(result.status == true)
                     {
                        if(result.data.city != undefined && result.data.city != '')
                        {
                           $('body').find('.addr-city').val(result.data.city);
                        }
                        
                        if(result.data.state_name != undefined && result.data.state_name != '')
                        {
                           $('body').find('.addr-state').val(result.data.state_name);
                        }
                     }
                  }
               });
            }
         }

         var checkEmail = function(){
      		var checkemail = $('body').find('#emailCust').val();
      		var msg 	      = "";
            $('body').find('#email-msg').html('');
      		if(checkemail != undefined && checkemail != '')
      		{
      			msg = "<i class='fas fa-spinner fa-spin'></i> Please wait while we checking your email...";
      			$('body').find('#email-msg').html(msg);
      			
      			$.ajax({
      				url		 : '../modules/enlineamixmod/enlineamixmod-checkcustemailevent-ajax.php', 
      				data	 :{'checkemail': checkemail, 'eventid': 89},
      				dataType :'json',
      				method 	 : 'post',
      				success	 : function(result){
      					console.log(result);
      					
      					$('body').find('.statuscodeemail').val(result.status_code);
      					if(result.status == true)
      					{
      						/** if customer registered before, we allow them to use tool **/
      						if(result.status_code == 'exist_customer_event')
      						{
                           checkeligibility();
      							$('body').find('#email-msg').html(" You have registered this events");
      							alert("You have registered.Thank you");
      						}
      						else if(result.status_code == 'exist_customer_motherhood_valid')
      						{
                           checkeligibility();
                           $('body').find('#email-msg').html('Kindly proceed to fill in the information below.')
      						}
      						else
      						{
                           checkeligibility();
                           $('body').find('#email-msg').html('Kindly proceed to fill in the information below.')
      						}
      						
      						return true
      					}
      					else
      					{
                        checkeligibility();
                        $('body').find('#email-msg').html('An error occur');
      						return false;
      					}
      				}
      			});
      		}
      		else
      		{
               checkeligibility();
      			$('body').find('#email-msg').html(" Please enter your email");
      			return false;
      		}

           
      	}

         var checkeligibility = function (){
            var checkEmail = $('body').find('.statuscodeemail').val();
            var answer = $('body').find('#are-you-pregnant').val();
            $('body').find('.are-you-pregnant-msg').html('');

            console.log("checkEmail : " + checkEmail + " === answer " + answer);

            if(answer == 'Yes' && checkEmail != 'exist_customer_event')
            {
               $('body').find('.btn-submit').show('fast');
            }
            else{
               $('body').find('.btn-submit').hide('fast');
               $('body').find('.are-you-pregnant-msg').html('Sorry! This redemption is only eligible for pregnant mom.');
            }
         }
         
         $(function(){
            for (var i = 1920; i <= 2021; i++) {
               $("#babyYear").append('<option value="' + i + '">' + i + "</option>");
            }

            $("#babyYear").on("change", function () {
               $("#babyMonth").prop("disabled", false);
            });

            $("#babyMonth").on("change", function () {
               var year = $("#babyYear").val();
               var month = $("#babyMonth").val();
               if (year !== "" && month !== "") {
                  $("#babyDay").prop("disabled", false);
                  $("#babyDay").find("option").remove().end();
                  var days = new Date(year, month, 0).getDate();
                  $("#babyDay").append(
                     '<option value=" " disabled selected> Day </option>'
                  );
                  for (var i = 1; i <= days; i++) {
                     $("#babyDay").append('<option value="' + i + '">' + i + "</option>");
                  }
               }
            });

            $("#babyDay").on("change", function () {
               var year = $("#babyYear").val();
               var month = $("#babyMonth").val();
               var day = $("#babyDay").val();
               var month = ("0" + month).slice(-2);
               var day = ("0" + day).slice(-2);
               $("#subscriber_question4").val(day + "-" + month + "-" + year);
            });

            $("#subscriber_question1").on("change", function (event) {
               var phonenumber = $("#subscriber_question1").val();
               var phonenumber = phonenumber.replace(/-/g, " ");
               var phonenumber = phonenumber.trim();
               if ($.trim(phonenumber) != "") {
                  var prefix = phonenumber.substring(0, 3);
                  var firstNo = phonenumber.substring(0, 1);
                  var phoneLength = phonenumber.length;
                  if (firstNo !== 0 || firstNo !== 5) {
                     $("#phoneNoError").show();
                     $("#subscriber_question1").css("background-color", "red");
                     $("#newUserSpan").attr("disabled", true);
                  }
                  if (firstNo == "0") {
                     if (
                     prefix == "010" ||
                     prefix == "011" ||
                     prefix == "012" ||
                     prefix == "013" ||
                     prefix == "014" ||
                     prefix == "015" ||
                     prefix == "016" ||
                     prefix == "017" ||
                     prefix == "018" ||
                     prefix == "019"
                     ) {
                     $("#phoneNoPrefixError").hide();
                     $("#subscriber_question1").css("background-color", "white");
                     $("#newUserSpan").attr("disabled", false);
                     if (prefix == "011") {
                        if (phoneLength < 10 || phoneLength > 11) {
                           $("#phoneNoError").show();
                           $("#subscriber_question1").css("background-color", "red");
                           $("#newUserSpan").attr("disabled", true);
                        } else {
                           $("#phoneNoError").hide();
                           $("#phoneNoErrorSg").hide();
                           $("#subscriber_question1").css("background-color", "white");
                           $("#newUserSpan").attr("disabled", false);
                        }
                     } else {
                        if (phoneLength < 10 || phoneLength > 10) {
                           $("#phoneNoError").show();
                           $("#subscriber_question1").css("background-color", "red");
                           $("#newUserSpan").attr("disabled", true);
                        } else {
                           $("#phoneNoError").hide();
                           $("#phoneNoErrorSg").hide();
                           $("#subscriber_question1").css("background-color", "white");
                           $("#newUserSpan").attr("disabled", false);
                        }
                     }
                     } else {
                     $("#phoneNoPrefixError").show();
                     $("#subscriber_question1").css("background-color", "red");
                     $("#newUserSpan").attr("disabled", true);
                     }
                  } else if (firstNo == "5") {
                     $("#phoneNoErrorSg").hide();
                     $("#phoneNoError").hide();
                     $("#subscriber_question1").css("background-color", "white");
                     $("#newUserSpan").attr("disabled", false);
                     if (phoneLength < 9 || phoneLength > 9) {
                     $("#phoneNoErrorSg").show();
                     $("#subscriber_question1").css("background-color", "red");
                     $("#newUserSpan").attr("disabled", true);
                     } else {
                     $("#phoneNoErrorSg").hide();
                     $("#phoneNoError").hide();
                     $("#subscriber_question1").css("background-color", "white");
                     $("#newUserSpan").attr("disabled", false);
                     }
                  } else {
                     $("#phoneNoPrefixError").show();
                     $("#subscriber_question1").css("background-color", "red");
                     $("#newUserSpan").attr("disabled", true);
                  }
               }
            });

            $("#tncpopupimg").magnificPopup({
               type: "image",
               closeOnContentClick: true,
               fixedContentPos: true,
               mainClass: "mfp-no-margins", // class to remove default margin from left and right side
               image: {
                  verticalFit: false,
               },
               zoom: {
                  enabled: false,
                  duration: 100, // don't foget to change the duration also in CSS
               },
               callbacks: {
                  close: function () {},
               },
             });
         
            $("#tncbtn").on("click", function () {
               $("#tncpopupimg").magnificPopup("open");
            });
            
            var selectorPostcode = document.getElementById("postcode-address");
               var postcodeSettings = {
                     'mask' : "*****",
                     "placeholder": "",
                     "definitions": {
                        '*': {
                           validator: "[0-9]"
                        }
                     }
                  }
               Inputmask(postcodeSettings).mask(selectorPostcode);
            
            var selectorMobile = document.getElementById("mobilenumber");
            var phoneNumSettings = {
                     'mask' : "***********",
                     "placeholder": "",
                     "definitions": {
                        '*': {
                           validator: "[0-9]"
                        }
                     }
               }
            Inputmask(phoneNumSettings).mask(selectorMobile);

            $('body').on('change', '#are-you-pregnant', function(){
               checkeligibility();
            });

            $('body').on('change', '#emailCust', function(){
               checkEmail();
            });
         });
         // ]]>
      </script>
   </p>
</div>